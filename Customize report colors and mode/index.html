<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minimal Embed Test</title>
  <style>
    body, html { margin:0; height:100%; }
    #overlay {
      position:fixed; top:0; left:0; right:0; bottom:0;
      display:flex; align-items:center; justify-content:center;
      background:rgba(255,255,255,0.8); z-index:100;
    }
    #report-container { width:100%; height:100%; }
  </style>
</head>
<body>
  <div id="overlay">
    <img src="../Go%20from%20insights%20to%20quick%20action/img/spinner.svg" alt="Loading…" />
  </div>
  <div id="report-container"></div>

  <!-- 1) Power BI client -->
  <script src="https://cdn.powerbi.com/libs/powerbi-client/2.19.1/powerbi.min.js"></script>

  <!-- 2) Minimal embed logic -->
 <script>
(async function() {
  const overlay = document.getElementById("overlay");
  const container = document.getElementById("report-container");

  // 1. Determine which report to load
  const params     = new URLSearchParams(window.location.search);
  const reportName = params.get("report") || null;

  // 2. Fetch your JSON from the other folder
  let list;
  try {
    const res = await fetch(
      "../Go%20from%20insights%20to%20quick%20action/reportList.json"
    );
    if (!res.ok) throw new Error(`Status ${res.status}`);
    list = await res.json();
  } catch (e) {
    overlay.innerHTML = `<div style="color:red;padding:20px;">JSON load error:<br>${e.message}</div>`;
    return;
  }

  // …the rest of your embed code stays exactly the same
})();
</script>

</body>
</html>
